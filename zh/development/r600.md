---
sidebar_position: 8
---

# AMD R600显卡使用指南

## 前置条件

需要使用 Bianbu 的 GNOME 版本固件包。

## 修改环境变量

注释掉用于指定 Mesa 加载的图形驱动程序的`MESA_LOADER_DRIVER_OVERRIDE`环境变量。原来的`MESA_LOADER_DRIVER_OVERRIDE=pvr`配置会指 Mesa 加载芯片内部的 pvr 集显的驱动，使用 R600 显卡的时候需要注释掉，Mesa 会自动加载 R600 的驱动。

如果需要使用其他型号的显卡，可能需要将该环境变量改成对应显卡的型号。但是目前 bianbu gnome 未做适配，其他型号的显卡可能无法使用。

```shell
sudo vim /etc/environment
```

将内容修改如下：

```shell
PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin"
COGL_DRIVER=gles2
GDK_GL=gles
XWAYLAND_NO_GLAMOR=1
SDL_VIDEODRIVER=wayland
#MESA_LOADER_DRIVER_OVERRIDE=pvr
```

## 安装linux固件包

linux-firmware 是一个软件包，包含了 Linux 操作系统所需的固件（firmware），其中包含了 R600 显卡的固件文件。输入下面的命令会将 R600 的固件文件下载到`/lib/firmware/radeon/` 目录。固件由内核启动的时候加载。

```shell
sudo apt install linux-firmware
```

## 关机

为了使环境变量的配置生效，并且使 linux 内核可以加载新安装的 R600 固件，需要重启主机。

```shell
sudo poweroff
```

将 R600 显卡接到 pcie 接口上，然后开机，即可使用 R600 显卡。
